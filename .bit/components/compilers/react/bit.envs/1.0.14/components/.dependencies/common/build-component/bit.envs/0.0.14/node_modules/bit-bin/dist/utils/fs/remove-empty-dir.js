"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

function _bluebird() {
  const data = require("bluebird");

  _bluebird = function () {
    return data;
  };

  return data;
}

function _fsExtra() {
  const data = _interopRequireDefault(require("fs-extra"));

  _fsExtra = function () {
    return data;
  };

  return data;
}

function _isDirEmpty() {
  const data = _interopRequireDefault(require("./is-dir-empty"));

  _isDirEmpty = function () {
    return data;
  };

  return data;
}

function _logger() {
  const data = _interopRequireDefault(require("../../logger/logger"));

  _logger = function () {
    return data;
  };

  return data;
}

var _default =
/*#__PURE__*/
function () {
  var _removeEmptyDir = (0, _bluebird().coroutine)(function* (dirPath) {
    const isExist = yield _fsExtra().default.pathExists(dirPath);

    if (!isExist) {
      return false;
    }

    const isEmpty = yield (0, _isDirEmpty().default)(dirPath);

    if (isEmpty) {
      _logger().default.info(`remove-empty-dir, deleting ${dirPath}`);

      yield _fsExtra().default.remove(dirPath);
      return true;
    }

    return false;
  });

  function removeEmptyDir(_x) {
    return _removeEmptyDir.apply(this, arguments);
  }

  return removeEmptyDir;
}();

exports.default = _default;